<?php
/**
 * Classic bubble sort
 *
 * Nested loop is required because you first need pick the first item (first 
 * loop), then loop through the elements to bubble the item to the top (second 
 * loop). Then go back to the the second item (first loop) and then go again.
 *
 * Pseudo code:
 *
 *   func bubblesort( var a as array )
 *     for i from 1 to N
 *         for j from 0 to N - 1
 *            if a[j] > a[j + 1]
 *               swap( a[j], a[j + 1] )
 *   end func
 *
 * Reference:
 * http://www.algorithmist.com/index.php/Bubble_sort
 */

function bubbleSort($array) {

    print 'v1' . PHP_EOL;
    $time_start = microtime(true);

    if( !is_array($array) ) {
        return false;
    }

    $count = sizeof($array);
    for( $c=0; $c < $count-1; $c++ ) {
        for( $i=0; $i < $count-1; $i++) {
            if($array[$i] > $array[$i+1]) {
                $temp = $array[$i+1];

                $array[$i+1] = $array[$i];
                $array[$i]   = $temp;
            }
        }
    }

    $time_end = microtime(true);
    $time = $time_end - $time_start;

    print 'v1 Time: ' . $time . PHP_EOL;

    return $array;
}

$input = str_split('838346001647836430379360675769902010508712039856017490823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036297013748659018383460016478364303793606757699020105087120398560174908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362970137486590183834600164783643037936067576990201050871203985601749082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629701374865901838346001647836430379360675769902010508712039856017490823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036297013748659018383460016478364303793606757699020105087120398560174908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362970137486590183834600164783643037936067576990201050871203985601749082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629701374865901222222838346001647836430379360675769902010508712039856017490823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036290823467940174510362908234679401745103629082346794017451036297013748659012');
bubbleSort($input);
